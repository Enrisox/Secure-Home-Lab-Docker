# Preparation of the virtual environment on VirtualBox
As a first step, I prepared a VM on VirtualBox on my desktop PC, but in the future I will move the whole setup to a Raspberry Pi 5 with 8 GB.

I installed Ubuntu Server on the VM, after choosing English as the language (Italian is not available during installation, it will be installed later from the terminal).  
No additional services selected except the SSH server.  
Network adapter set to bridge mode from VirtualBox settings.  

**Once the installation was completed, I updated the packages with:**

```bash
sudo apt update
sudo apt upgrade
ip a     # to see the VM IP and connect via SSH from my host machine

```
SSH was not working because the SSH server could not find the host keys needed to start the SSH service.
After some troubleshooting I found the solution:

When you start an SSH server, it needs host keys to establish secure connections with SSH clients. Host keys are a set of cryptographic keys that uniquely identify the server and are used to establish a secure channel during the SSH connection.

```bash
systemctl status ssh 
#no hostkeys available – exiting
```

**No hostkeys available - exiting** significa che il server SSH non riesce a trovare le chiavi host necessarie per avviarsi correttamente. Senza queste chiavi, sshd (il demone SSH) non può avviarsi e rifiuterà le connessioni in entrata.

“No hostkeys available - exiting” means that the SSH server cannot find the host keys needed to start correctly. Without these keys, sshd (the SSH daemon) cannot start and will refuse incoming connections.

Host keys are generated automatically when the SSH server is installed or configured for the first time, but if they are missing (for example, after a fresh installation or accidental removal), sshd cannot start and will show this error.

```bash
sudo ssh-keygen -A          # -A dice a ssh-keygen di generare tutte le chiavi host mancanti (rsa, ecdsa, ed25519, dsa).
sudo systemctl restart ssh     #restartiamo il server ssh
sudo systemctl status ssh       #ora si dovrebbe vedere active (running)
```

# Keyboard and Italian language configuration on Ubuntu Server
I set the Italian language by configuring the Italian keyboard layout from the Ubuntu Server command line.

**To correctly configure the keyboard, I ran the following command:**

```bash
sudo dpkg-reconfigure keyboard-configuration
```
**During the procedure, choose the following options:**

Keyboard model: Generic 105-key PC (o il modello che corrisponde alla tua tastiera)
Country of origin: Italy
Keyboard layout: Italian
AltGr: default
Compose key: None
Ctrl+Alt+Backspace: No

**After configuring the keyboard, you need to reload the configuration with:**

```bash
sudo service keyboard-setup restart
sudo setupcon
```
**To add Italian language support and set Italian as the locale:**

```bash
sudo apt install language-pack-it   
sudo update-locale LANG=it_IT.UTF-8
source /etc/default/locale         #ricaricare
locale       #verifica
```
![lingua italiana](../imgs/img1.png)



# Assigning a static IP to Ubuntu Server

A Netplan file is a YAML file that defines network configuration on Ubuntu and other modern Linux distributions. It is used to configure interfaces, IPs, gateways, DNS and other network settings, replacing older methods such as /etc/network/interfaces.

50-cloud-init.yaml is the file automatically generated by cloud-init during the installation of my Ubuntu Server.

The number 50 indicates that it is read after any “base” files (for example 01-netcfg.yaml) and can therefore override some of their settings.

If you want to modify the static IP, it is a good idea to edit this file or create a new file with a higher number (e.g. 99-custom.yaml) to override the settings without touching the original one.



1)**I edited the file with:**
```bash
sudo nano /etc/netplan/50-cloud-init.yaml
```
```bash
network:
    version: 2
    ethernets:
        enp0s3:     #Controllare prima con ip a il nome dell’interfaccia es:eth0 per porta ethernet Raspberry o wlan0 per quella wifi
            dhcp4: no
            addresses:
              - 192.168.1.20/24
            gateway4: 192.168.1.1
            nameservers:
                addresses:
                  - 1.1.1.1
                  - 8.8.8.8
```
•	192.168.1.20 # l’IP che vogliamo assegnare al server <br>
•	192.168.1.1 → il gateway della nostra LAN


2)**Next, I applied the Netplan configuration**
```bash
sudo netplan apply
ip a show enp0s3
```

**In the next step I will show the installation of Docker on the Ubuntu Server VM.**



